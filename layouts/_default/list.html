{{ define "main" }}
<div class="max-w-[var(--max-width)] mx-auto px-4 py-16">
  <header class="mb-16">
    <h1 class="font-display text-5xl md:text-6xl font-black tracking-tight mb-4">
      {{ .Title }}<span class="text-[var(--color-accent)]">.</span>
    </h1>
    {{ with .Content }}
    <div class="text-lg text-[var(--color-text-secondary)] max-w-md">
      {{ . }}
    </div>
    {{ end }}
  </header>

  {{/* Content List */}}
  {{ if .Pages }}
  <div class="space-y-0">
    {{ range .Pages }}
    {{ $images := .Resources.ByType "image" }}
    {{ $hasImage := gt (len $images) 0 }}
    <article class="group">
      <a href="{{ .Permalink }}" class="flex flex-col md:flex-row md:items-baseline gap-2 md:gap-6 py-5 border-b border-[var(--color-border)] hover:border-[var(--color-accent)] transition-colors">
        <time datetime="{{ .Date.Format "2006-01-02" }}" class="text-xs font-mono text-[var(--color-text-muted)] md:w-24 shrink-0">
          {{ .Date.Format "2006.01.02" }}
        </time>
        <div class="flex-1">
          <h2 class="font-display text-xl font-bold group-hover:text-[var(--color-accent)] transition-colors">
            {{ .Title }}
          </h2>
          {{ with .Description }}
          <p class="text-sm text-[var(--color-text-secondary)] mt-1 line-clamp-1">{{ . }}</p>
          {{ end }}
        </div>
        {{ if gt .ReadingTime 0 }}
        <span class="text-xs font-mono text-[var(--color-text-muted)] shrink-0">{{ .ReadingTime }} min</span>
        {{ end }}
      </a>
    </article>
    {{ end }}
  </div>

  {{/* Pagination */}}
  {{ partial "pagination.html" . }}
  {{ else }}
  <p class="text-[var(--color-text-secondary)] text-center py-16">No content yet.</p>
  {{ end }}
</div>
{{ end }}
