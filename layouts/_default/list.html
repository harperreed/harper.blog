{{/* layouts/_default/list.html */}}
{{ define "main" }}
<div>
    {{ if .IsHome }}
        {{ with .Content }}
        <div class="prose prose-neutral max-w-none mb-16">
            {{ . }}
        </div>
        {{ end }}
    {{ else }}
        <h1 class="text-3xl font-normal mb-8">{{ .Title }}</h1>
    {{ end }}

    {{ $paginator := .Paginate .Pages }}
    <div class="space-y-12">
        {{ range $paginator.Pages }}
        <article>
            <h2 class="mb-1 text-xl">
                <a href="{{ .Permalink }}" class="no-underline hover:underline">{{ .Title }}</a>
            </h2>
            {{ if not .Date.IsZero }}
            <time class="block text-sm text-gray-600 mb-2" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                {{ .Date.Format "January 2, 2006" }}
            </time>
            {{ end }}
            {{ with .Summary }}
            <div class="text-gray-700">{{ . }}</div>
            {{ end }}
        </article>
        {{ end }}
    </div>

    {{ if gt $paginator.TotalPages 1 }}
    <nav class="mt-16 flex justify-between text-sm">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="text-gray-600 hover:text-gray-900">← Newer posts</a>
        {{ end }}
        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="text-gray-600 hover:text-gray-900">Older posts →</a>
        {{ end }}
    </nav>
    {{ end }}
</div>
{{ end }}
