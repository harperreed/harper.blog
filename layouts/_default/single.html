{{ define "main" }}
<article class="article-body mx-auto" role="main">
    <header class="mb-4 pb-2 border-b">
        <h1 class="article-title">{{ .Title }}</h1>
        
        <div class="article-date">
            {{ if and .IsPage (eq .Type "posts") }}
            <time datetime="{{ .Date.Format "2006-01-02" }}" aria-label="Published on {{ .Date.Format "January 2, 2006" }}">
                {{ .Date.Format "January 2, 2006" }}
            </time>
            {{ end }}

            
            {{ if and .IsPage (ne .Type "special") }}
            <span class="post-meta">
            {{ if .Site.Params.readingTime }}
            &nbsp;<span aria-label="Reading time:">‚è≤Ô∏è</span></span>&nbsp;{{ .ReadingTime }}&nbsp;{{ i18n "minutes" }}
            {{ end }}
            {{ if .Site.Params.wordCount }}
            {{ if .Site.Params.readingTime }} <!-- Add a separator between readingTime and WordCount if readingTime is enabled -->
            &nbsp;| &nbsp;
            {{ end }}
            <span aria-label="Word count:">üìñ</span></span>&nbsp;{{ .WordCount }}&nbsp;{{ i18n "words" }}
            {{ end }}
            {{ if not .Site.Params.hideAuthor }}
            {{ if isset .Params "author" }}
            {{ if or (.Site.Params.wordCount) (.Site.Params.readingTime)  }} <!-- Add a separator before author if either readingTime or  WordCount is enabled -->
            &nbsp;|&nbsp;
            {{ end }}
            <span aria-label="Author:">üßë‚Äçüé§</span></span>&nbsp;
            {{ if isset .Params "authorlink" }}
            <a href="{{ relURL .Params.authorlink }}" target="_blank" rel="noopener noreferrer">{{ .Params.author | safeHTML }}</a>
            {{ else }}
            {{ .Params.author | safeHTML }}
            {{ end }}
            {{ end }}
            {{ end }}
            </span>
            {{ end }}
            
            
        </div>
    </header>

    {{ partial "out_of_date.html" . }}
    
    <div class="content">
        {{ .Content }}
    </div>
    
    {{ with .Params.tags }}
    <nav aria-label="Post tags" class="mt-4 flex flex-wrap gap-2">
        {{ range . }}
        <span class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1 rounded-full text-sm">{{ . }}</span>
        {{ end }}
    </nav>
    {{ end }}

    {{ if and .IsPage (ne .Type "special") }}
    {{- partial "next-prev.html" . -}}
    {{ end }}
</article>
{{ end }}
