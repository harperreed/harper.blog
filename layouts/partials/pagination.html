{{ define "partials/pagination.html" }}
{{ if gt .Paginator.TotalPages 1 }}
<nav class="flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center mt-8" aria-label="Pagination">
    <!-- Page info -->
    <p class="text-sm text-gray-600">
        Page {{ .Paginator.PageNumber }} of {{ .Paginator.TotalPages }}
    </p>
    
    <!-- Navigation -->
    <div class="flex items-center gap-1">
        {{ if .Paginator.HasPrev }}
        <a href="{{ .Paginator.Prev.URL }}" 
           class="p-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors"
           aria-label="Previous page">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
        </a>
        {{ end }}

        {{ $paginator := .Paginator }}
        {{ $window := 2 }}
        
        {{ range $paginator.Pagers }}
            {{ $pageNum := .PageNumber }}
            
            {{ if or
                (le $pageNum $window)
                (eq $pageNum $paginator.TotalPages)
                (and
                    (ge $pageNum (sub $paginator.PageNumber $window))
                    (le $pageNum (add $paginator.PageNumber $window))
                )
            }}
                <a href="{{ .URL }}"
                   class="min-w-[2.5rem] h-10 flex items-center justify-center rounded-lg text-sm {{ if eq . $paginator }}
                       bg-gray-900 text-white font-medium hover:bg-gray-800
                   {{ else }}
                       text-gray-600 hover:bg-gray-100 hover:text-gray-900
                   {{ end }} transition-colors">
                    {{ .PageNumber }}
                </a>
            {{ else if or
                (eq $pageNum (add 1 $window))
                (eq $pageNum (sub $paginator.TotalPages $window))
            }}
                <span class="min-w-[2.5rem] h-10 flex items-center justify-center text-gray-400">
                    â‹¯
                </span>
            {{ end }}
        {{ end }}

        {{ if .Paginator.HasNext }}
        <a href="{{ .Paginator.Next.URL }}"
           class="p-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors"
           aria-label="Next page">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
        </a>
        {{ end }}
    </div>
</nav>
{{ end }}
{{ end }}